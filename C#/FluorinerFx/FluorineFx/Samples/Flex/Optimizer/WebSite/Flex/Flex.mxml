<?xml version="1.0" encoding="utf-8"?>
<mx:Application xmlns:mx="http://www.adobe.com/2006/mxml" layout="absolute">

  <mx:Script>
    <![CDATA[
    	import mx.collections.ArrayCollection;
	    import mx.rpc.events.ResultEvent;
	    import mx.utils.ObjectUtil;
	    import mx.controls.Alert;
	    import mx.rpc.events.FaultEvent;
	
	    private function test():void
	    {	
			var testVO1:TestVO = new TestVO();
			testVO1.intField1 = 11;
			testVO1.intField2 = 222;
//			testVO1.intField3 = 333;
			testVO1.shortField1 = 33;
			testVO1.shortField2 = 34;
			testVO1.doubleField1 = 1.1;
			testVO1.decimalField1 = 25.2;
			testVO1.byteField1 = 15;
			testVO1.boolField1 = true;
			testVO1.charField1 = "a";
			testVO1.enumField1 = 0;
			testVO1.enumField2 = "Portrait";
			testVO1.dateField1 = new Date();
			testVO1.dateField2 = new Date();
			testVO1.stringField1 = null;
			testVO1.stringField2 = "abc";
			testVO1.guidField1 = "ca761232ed4211cebacd00aa0057b223";
			testVO1.xmlField1 = new XML("<state name=\"California\"><city>San Francisco</city></state>");
			testVO1.xmlField2 = null;
			var arrTemp:Array = [11,22,33];
			testVO1.arrayField1 = arrTemp
			testVO1.arrayField2 = arrTemp //by ref
			testVO1.arrayField3 = ["a","b","c"]
			testVO1.arrayField4 = [1.1,2.2,3]
			testVO1.arrayField5 = [arrTemp, "text", 43]
			testVO1.arrayField6 = [10, 11, 12]
			testVO1.arrayField7 = [10, 11, 12]
//			testVO1.arrayField8 = [3, 4, null]
			testVO1.arrayListField1 = [3, 4, null]
			testVO1.listField1 = [3, 4, 43]
//			testVO1.listField2 = [3, 4, null]
			testVO1.dictionaryField1 = {"a":1, "b":2}
			testVO1.dictionaryField2 = {"a":1, "b":2}
			testVO1.asoField1 = {"a":1, "b":2}
			testVO1.arrayCollectionField1 = new ArrayCollection([81, "abc"])
			
			var testVO2:TestVO = new TestVO();
			testVO2.intField1 = 45;
			testVO2.intField2 = 46;
//			testVO2.intField3 = null;
			testVO2.shortField1 = 35;
			testVO2.shortField2 = 36;
			testVO2.doubleField1 = 45.6;
			testVO2.decimalField1 = 33.4;
			testVO2.byteField1 = 45;
			testVO2.boolField1 = false;
			testVO2.charField1 = "b";
			testVO2.enumField1 = 1;
			testVO2.enumField2 = "Landscape";
			testVO2.dateField1 = new Date();
			testVO2.dateField2 = new Date();
			testVO2.stringField1 = null;
			testVO2.stringField2 = "abc";
			testVO2.guidField1 = "{CA761232-ED42-11CE-BACD-00AA0057B223}";
			testVO2.xmlField1 = new XML("<state name=\"California\"><city>San Francisco</city></state>");
			testVO2.xmlField2 = null;
			testVO2.arrayField1 = arrTemp
			testVO2.arrayField2 = arrTemp //by ref			
			testVO2.arrayField3 = ["a","b","c"]
			testVO2.arrayField4 = [1.1,2.2,3]
			testVO2.arrayField5 = [arrTemp, "text", 41]
			testVO2.arrayField6 = [10, 11, 225]
			testVO2.arrayField7 = [10, 11, 12]
//			testVO2.arrayField8 = new ArrayCollection([51, 52, 53, 54])
			testVO2.arrayListField1 = new ArrayCollection([55, 56])
			testVO2.listField1 = new ArrayCollection([57, 58])
//			testVO2.listField2 = new ArrayCollection([59, 60])
			testVO2.dictionaryField1 = {"a":1, "b":2}
			testVO2.dictionaryField2 = {"a":1, "b":2}
			testVO2.asoField1 = {"a":1, "b":2}
			testVO2.arrayCollectionField1 = new ArrayCollection([81, "abc"])
			
			var list:Array = [testVO1, testVO2];
		    fluorineRO.Test(list);
	    }

	    private function onFault(event:FaultEvent):void{
        	Alert.show( ObjectUtil.toString(event.fault.faultString), "Error", mx.controls.Alert.OK );
	    }
      
	    private function onResult(event:ResultEvent):void {
        	ta.text += "\n";
        	ta.text += ObjectUtil.toString(event.result);
      }
      
    ]]>
</mx:Script>

<mx:HBox width="100%" height="100%">
  <mx:Panel title="Result" width="100%" height="100%">
    <mx:TextArea id="ta" width="100%" height="100%"/>
    <mx:ControlBar>
      <mx:Button label="Test" click="test()"/>
    </mx:ControlBar>
    </mx:Panel>
</mx:HBox>

  <mx:RemoteObject id="fluorineRO" destination="fluorine" source="ServiceLibrary.TestService">
    <mx:method name="Test" result="onResult(event)" fault="onFault(event)" />
  </mx:RemoteObject>	
</mx:Application>
